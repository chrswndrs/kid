{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/core/base_widget.js)\r\n * Version: 21.2.4\r\n * Build date: Mon Dec 06 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { noop } from \"../../core/utils/common\";\nimport { getWindow, hasWindow } from \"../../core/utils/window\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport { isNumeric, isFunction, isDefined, isObject as _isObject, type } from \"../../core/utils/type\";\nimport { each } from \"../../core/utils/iterator\";\nimport _windowResizeCallbacks from \"../../core/utils/resize_callbacks\";\nimport { extend } from \"../../core/utils/extend\";\nimport { BaseThemeManager } from \"../core/base_theme_manager\";\nimport DOMComponent from \"../../core/dom_component\";\nimport { changes, replaceInherit } from \"./helpers\";\nimport { parseScalar as _parseScalar } from \"./utils\";\nimport warnings from \"./errors_warnings\";\nimport { Renderer } from \"./renderers/renderer\";\nimport { getWidth, getHeight } from \"../../core/utils/size\";\nimport _Layout from \"./layout\";\nimport devices from \"../../core/devices\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { when } from \"../../core/utils/deferred\";\nimport { createEventTrigger, createResizeHandler, createIncidentOccurred } from \"./base_widget.utils\";\nvar _floor = Math.floor;\nvar _log = warnings.log;\nvar OPTION_RTL_ENABLED = \"rtlEnabled\";\nvar SIZED_ELEMENT_CLASS = \"dx-sized-element\";\nvar _option = DOMComponent.prototype.option;\n\nfunction getTrue() {\n  return true;\n}\n\nfunction getFalse() {\n  return false;\n}\n\nfunction areCanvasesDifferent(canvas1, canvas2) {\n  return !(canvas1.width === canvas2.width && canvas1.height === canvas2.height && canvas1.left === canvas2.left && canvas1.top === canvas2.top && canvas1.right === canvas2.right && canvas1.bottom === canvas2.bottom);\n}\n\nfunction defaultOnIncidentOccurred(e) {\n  if (!e.component._eventsStrategy.hasEvent(\"incidentOccurred\")) {\n    _log.apply(null, [e.target.id].concat(e.target.args || []));\n  }\n}\n\nfunction pickPositiveValue(values) {\n  return values.reduce(function (result, value) {\n    return value > 0 && !result ? value : result;\n  }, 0);\n}\n\nvar getEmptyComponent = function () {\n  var emptyComponentConfig = {\n    _initTemplates() {},\n\n    ctor(element, options) {\n      this.callBase(element, options);\n      var sizedElement = domAdapter.createElement(\"div\");\n      var width = options && isNumeric(options.width) ? options.width + \"px\" : \"100%\";\n      var height = options && isNumeric(options.height) ? options.height + \"px\" : this._getDefaultSize().height + \"px\";\n      domAdapter.setStyle(sizedElement, \"width\", width);\n      domAdapter.setStyle(sizedElement, \"height\", height);\n      domAdapter.setClass(sizedElement, SIZED_ELEMENT_CLASS);\n      domAdapter.insertElement(element, sizedElement);\n    }\n\n  };\n  var EmptyComponent = DOMComponent.inherit(emptyComponentConfig);\n  var originalInherit = EmptyComponent.inherit;\n\n  EmptyComponent.inherit = function (config) {\n    for (var field in config) {\n      if (isFunction(config[field]) && \"_\" !== field.substr(0, 1) && \"option\" !== field || \"_dispose\" === field || \"_optionChanged\" === field) {\n        config[field] = noop;\n      }\n    }\n\n    return originalInherit.call(this, config);\n  };\n\n  return EmptyComponent;\n};\n\nfunction callForEach(functions) {\n  functions.forEach(c => c());\n}\n\nvar isServerSide = !hasWindow();\n\nfunction sizeIsValid(value) {\n  return isDefined(value) && value > 0;\n}\n\nvar baseWidget = isServerSide ? getEmptyComponent() : DOMComponent.inherit({\n  _eventsMap: {\n    onIncidentOccurred: {\n      name: \"incidentOccurred\"\n    },\n    onDrawn: {\n      name: \"drawn\"\n    }\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      onIncidentOccurred: defaultOnIncidentOccurred\n    });\n  },\n  _useLinks: true,\n  _init: function () {\n    var that = this;\n\n    that._$element.children(\".\" + SIZED_ELEMENT_CLASS).remove();\n\n    that.callBase.apply(that, arguments);\n    that._changesLocker = 0;\n    that._optionChangedLocker = 0;\n    that._asyncFirstDrawing = true;\n    that._changes = changes();\n\n    that._suspendChanges();\n\n    that._themeManager = that._createThemeManager();\n\n    that._themeManager.setCallback(function () {\n      that._requestChange(that._themeDependentChanges);\n    });\n\n    that._renderElementAttributes();\n\n    that._initRenderer();\n\n    var linkTarget = that._useLinks && that._renderer.root;\n    linkTarget && linkTarget.enableLinks().virtualLink(\"core\").virtualLink(\"peripheral\");\n\n    that._renderVisibilityChange();\n\n    that._attachVisibilityChangeHandlers();\n\n    that._toggleParentsScrollSubscription(this._isVisible());\n\n    that._initEventTrigger();\n\n    that._incidentOccurred = createIncidentOccurred(that.NAME, that._eventTrigger);\n    that._layout = new _Layout();\n    linkTarget && linkTarget.linkAfter(\"core\");\n\n    that._initPlugins();\n\n    that._initCore();\n\n    linkTarget && linkTarget.linkAfter();\n\n    that._change(that._initialChanges);\n  },\n\n  _createThemeManager() {\n    return new BaseThemeManager(this._getThemeManagerOptions());\n  },\n\n  _getThemeManagerOptions() {\n    return {\n      themeSection: this._themeSection,\n      fontFields: this._fontFields\n    };\n  },\n\n  _initialChanges: [\"LAYOUT\", \"RESIZE_HANDLER\", \"THEME\", \"DISABLED\"],\n  _initPlugins: function () {\n    var that = this;\n    each(that._plugins, function (_, plugin) {\n      plugin.init.call(that);\n    });\n  },\n  _disposePlugins: function () {\n    var that = this;\n    each(that._plugins.slice().reverse(), function (_, plugin) {\n      plugin.dispose.call(that);\n    });\n  },\n  _change: function (codes) {\n    this._changes.add(codes);\n  },\n  _suspendChanges: function () {\n    ++this._changesLocker;\n  },\n  _resumeChanges: function () {\n    if (0 === --this._changesLocker && this._changes.count() > 0 && !this._applyingChanges) {\n      this._renderer.lock();\n\n      this._applyingChanges = true;\n\n      this._applyChanges();\n\n      this._changes.reset();\n\n      this._applyingChanges = false;\n\n      this._changesApplied();\n\n      this._renderer.unlock();\n\n      if (this._optionsQueue) {\n        this._applyQueuedOptions();\n      }\n\n      this.resolveItemsDeferred(this._legend ? [this._legend] : []);\n      this._optionChangedLocker++;\n\n      this._notify();\n\n      this._optionChangedLocker--;\n    }\n  },\n\n  resolveItemsDeferred(items) {\n    this._resolveDeferred(this._getTemplatesItems(items));\n  },\n\n  _collectTemplatesFromItems: items => items.reduce((prev, i) => ({\n    items: prev.items.concat(i.getTemplatesDef()),\n    groups: prev.groups.concat(i.getTemplatesGroups())\n  }), {\n    items: [],\n    groups: []\n  }),\n\n  _getTemplatesItems(items) {\n    var elements = this._collectTemplatesFromItems(items);\n\n    var extraItems = this._getExtraTemplatesItems();\n\n    return {\n      items: extraItems.items.concat(elements.items),\n      groups: extraItems.groups.concat(elements.groups),\n      launchRequest: [extraItems.launchRequest],\n      doneRequest: [extraItems.doneRequest]\n    };\n  },\n\n  _getExtraTemplatesItems: () => ({\n    items: [],\n    groups: [],\n    launchRequest: () => {},\n    doneRequest: () => {}\n  }),\n\n  _resolveDeferred(_ref) {\n    var {\n      items: items,\n      launchRequest: launchRequest,\n      doneRequest: doneRequest,\n      groups: groups\n    } = _ref;\n    var that = this;\n\n    that._setGroupsVisibility(groups, \"hidden\");\n\n    if (that._changesApplying) {\n      that._changesApplying = false;\n      callForEach(doneRequest);\n      return;\n    }\n\n    var syncRendering = true;\n    when.apply(that, items).done(() => {\n      if (syncRendering) {\n        that._setGroupsVisibility(groups, \"visible\");\n\n        return;\n      }\n\n      callForEach(launchRequest);\n      that._changesApplying = true;\n      var changes = [\"LAYOUT\", \"FULL_RENDER\"];\n\n      if (that._asyncFirstDrawing) {\n        changes.push(\"FORCE_FIRST_DRAWING\");\n        that._asyncFirstDrawing = false;\n      } else {\n        changes.push(\"FORCE_DRAWING\");\n      }\n\n      that._requestChange(changes);\n\n      that._setGroupsVisibility(groups, \"visible\");\n    });\n    syncRendering = false;\n  },\n\n  _setGroupsVisibility(groups, visibility) {\n    groups.forEach(g => g.attr({\n      visibility: visibility\n    }));\n  },\n\n  _applyQueuedOptions: function () {\n    var queue = this._optionsQueue;\n    this._optionsQueue = null;\n    this.beginUpdate();\n    each(queue, function (_, action) {\n      action();\n    });\n    this.endUpdate();\n  },\n  _requestChange: function (codes) {\n    this._suspendChanges();\n\n    this._change(codes);\n\n    this._resumeChanges();\n  },\n  _applyChanges: function () {\n    var changes = this._changes;\n    var order = this._totalChangesOrder;\n    var i;\n    var ii = order.length;\n\n    for (i = 0; i < ii; ++i) {\n      if (changes.has(order[i])) {\n        this[\"_change_\" + order[i]]();\n      }\n    }\n  },\n  _optionChangesOrder: [\"EVENTS\", \"THEME\", \"RENDERER\", \"RESIZE_HANDLER\"],\n  _layoutChangesOrder: [\"ELEMENT_ATTR\", \"CONTAINER_SIZE\", \"LAYOUT\"],\n  _customChangesOrder: [\"DISABLED\"],\n  _change_EVENTS: function () {\n    this._eventTrigger.applyChanges();\n  },\n  _change_THEME: function () {\n    this._setThemeAndRtl();\n  },\n  _change_RENDERER: function () {\n    this._setRendererOptions();\n  },\n  _change_RESIZE_HANDLER: function () {\n    this._setupResizeHandler();\n  },\n  _change_ELEMENT_ATTR: function () {\n    this._renderElementAttributes();\n\n    this._change([\"CONTAINER_SIZE\"]);\n  },\n  _change_CONTAINER_SIZE: function () {\n    this._updateSize();\n  },\n  _change_LAYOUT: function () {\n    this._setContentSize();\n  },\n  _change_DISABLED: function () {\n    var renderer = this._renderer;\n    var root = renderer.root;\n\n    if (this.option(\"disabled\")) {\n      this._initDisabledState = root.attr(\"pointer-events\");\n      root.attr({\n        \"pointer-events\": \"none\",\n        filter: renderer.getGrayScaleFilter().id\n      });\n    } else if (\"none\" === root.attr(\"pointer-events\")) {\n      root.attr({\n        \"pointer-events\": isDefined(this._initDisabledState) ? this._initDisabledState : null,\n        filter: null\n      });\n    }\n  },\n  _themeDependentChanges: [\"RENDERER\"],\n  _initRenderer: function () {\n    this._canvas = this._calculateCanvas();\n    this._renderer = new Renderer({\n      cssClass: this._rootClassPrefix + \" \" + this._rootClass,\n      pathModified: this.option(\"pathModified\"),\n      container: this._$element[0]\n    });\n\n    this._renderer.resize(this._canvas.width, this._canvas.height);\n  },\n  _disposeRenderer: function () {\n    this._renderer.dispose();\n  },\n  _getAnimationOptions: noop,\n  render: function () {\n    this._requestChange([\"CONTAINER_SIZE\"]);\n\n    var visible = this._isVisible();\n\n    this._toggleParentsScrollSubscription(visible);\n\n    !visible && this._stopCurrentHandling();\n  },\n  _toggleParentsScrollSubscription: function (subscribe) {\n    var $parents = $(this._renderer.root.element).parents();\n\n    if (\"generic\" === devices.real().platform) {\n      $parents = $parents.add(getWindow());\n    }\n\n    this._proxiedTargetParentsScrollHandler = this._proxiedTargetParentsScrollHandler || function () {\n      this._stopCurrentHandling();\n    }.bind(this);\n\n    eventsEngine.off($().add(this._$prevRootParents), \"scroll.viz_widgets\", this._proxiedTargetParentsScrollHandler);\n\n    if (subscribe) {\n      eventsEngine.on($parents, \"scroll.viz_widgets\", this._proxiedTargetParentsScrollHandler);\n      this._$prevRootParents = $parents;\n    }\n  },\n  _stopCurrentHandling: noop,\n  _dispose: function () {\n    var that = this;\n    that.callBase.apply(that, arguments);\n\n    that._toggleParentsScrollSubscription(false);\n\n    that._removeResizeHandler();\n\n    that._layout.dispose();\n\n    that._eventTrigger.dispose();\n\n    that._disposeCore();\n\n    that._disposePlugins();\n\n    that._disposeRenderer();\n\n    that._themeManager.dispose();\n\n    that._themeManager = that._renderer = that._eventTrigger = null;\n  },\n  _initEventTrigger: function () {\n    var that = this;\n    that._eventTrigger = createEventTrigger(that._eventsMap, function (name) {\n      return that._createActionByOption(name);\n    });\n  },\n  _calculateCanvas: function () {\n    var that = this;\n    var size = that.option(\"size\") || {};\n    var margin = that.option(\"margin\") || {};\n    var defaultCanvas = that._getDefaultSize() || {};\n\n    var getSizeOfSide = (size, side, getter) => {\n      if (sizeIsValid(size[side]) || !hasWindow()) {\n        return 0;\n      }\n\n      var elementSize = getter(that._$element);\n      return elementSize <= 1 ? 0 : elementSize;\n    };\n\n    var elementWidth = getSizeOfSide(size, \"width\", x => getWidth(x));\n    var elementHeight = getSizeOfSide(size, \"height\", x => getHeight(x));\n    var canvas = {\n      width: size.width <= 0 ? 0 : _floor(pickPositiveValue([size.width, elementWidth, defaultCanvas.width])),\n      height: size.height <= 0 ? 0 : _floor(pickPositiveValue([size.height, elementHeight, defaultCanvas.height])),\n      left: pickPositiveValue([margin.left, defaultCanvas.left]),\n      top: pickPositiveValue([margin.top, defaultCanvas.top]),\n      right: pickPositiveValue([margin.right, defaultCanvas.right]),\n      bottom: pickPositiveValue([margin.bottom, defaultCanvas.bottom])\n    };\n\n    if (canvas.width - canvas.left - canvas.right <= 0 || canvas.height - canvas.top - canvas.bottom <= 0) {\n      canvas = {\n        width: 0,\n        height: 0\n      };\n    }\n\n    return canvas;\n  },\n  _updateSize: function () {\n    var canvas = this._calculateCanvas();\n\n    this._renderer.fixPlacement();\n\n    if (areCanvasesDifferent(this._canvas, canvas) || this.__forceRender) {\n      this._canvas = canvas;\n\n      this._recreateSizeDependentObjects(true);\n\n      this._renderer.resize(canvas.width, canvas.height);\n\n      this._change([\"LAYOUT\"]);\n    }\n  },\n  _recreateSizeDependentObjects: noop,\n  _getMinSize: function () {\n    return [0, 0];\n  },\n  _getAlignmentRect: noop,\n  _setContentSize: function () {\n    var canvas = this._canvas;\n    var layout = this._layout;\n    var rect = canvas.width > 0 && canvas.height > 0 ? [canvas.left, canvas.top, canvas.width - canvas.right, canvas.height - canvas.bottom] : [0, 0, 0, 0];\n    rect = layout.forward(rect, this._getMinSize());\n    var nextRect = this._applySize(rect) || rect;\n    layout.backward(nextRect, this._getAlignmentRect() || nextRect);\n  },\n  _getOption: function (name, isScalar) {\n    var theme = this._themeManager.theme(name);\n\n    var option = this.option(name);\n    return isScalar ? void 0 !== option ? option : theme : extend(true, {}, theme, option);\n  },\n  _setupResizeHandler: function () {\n    var that = this;\n\n    var redrawOnResize = _parseScalar(this._getOption(\"redrawOnResize\", true), true);\n\n    if (that._resizeHandler) {\n      that._removeResizeHandler();\n    }\n\n    that._resizeHandler = createResizeHandler(function () {\n      if (redrawOnResize) {\n        that._requestChange([\"CONTAINER_SIZE\"]);\n      } else {\n        that._renderer.fixPlacement();\n      }\n    });\n\n    _windowResizeCallbacks.add(that._resizeHandler);\n  },\n  _removeResizeHandler: function () {\n    if (this._resizeHandler) {\n      _windowResizeCallbacks.remove(this._resizeHandler);\n\n      this._resizeHandler.dispose();\n\n      this._resizeHandler = null;\n    }\n  },\n  _onBeginUpdate: noop,\n  beginUpdate: function () {\n    var that = this;\n\n    if (that._initialized && that._isUpdateAllowed()) {\n      that._onBeginUpdate();\n\n      that._suspendChanges();\n    }\n\n    that.callBase.apply(that, arguments);\n    return that;\n  },\n  endUpdate: function () {\n    this.callBase();\n    this._isUpdateAllowed() && this._resumeChanges();\n    return this;\n  },\n  option: function (name) {\n    var that = this;\n\n    if (that._initialized && that._applyingChanges && (arguments.length > 1 || _isObject(name))) {\n      that._optionsQueue = that._optionsQueue || [];\n\n      that._optionsQueue.push(that._getActionForUpdating(arguments));\n    } else {\n      return _option.apply(that, arguments);\n    }\n  },\n  _getActionForUpdating: function (args) {\n    var that = this;\n    return function () {\n      _option.apply(that, args);\n    };\n  },\n  _clean: noop,\n  _render: noop,\n  _optionChanged: function (arg) {\n    var that = this;\n\n    if (that._optionChangedLocker) {\n      return;\n    }\n\n    var partialChanges = that.getPartialChangeOptionsName(arg);\n    var changes = [];\n\n    if (partialChanges.length > 0) {\n      partialChanges.forEach(pc => changes.push(that._partialOptionChangesMap[pc]));\n    } else {\n      changes.push(that._optionChangesMap[arg.name]);\n    }\n\n    changes = changes.filter(c => !!c);\n\n    if (that._eventTrigger.change(arg.name)) {\n      that._change([\"EVENTS\"]);\n    } else if (changes.length > 0) {\n      that._change(changes);\n    } else {\n      that.callBase.apply(that, arguments);\n    }\n  },\n  _notify: noop,\n  _changesApplied: noop,\n  _optionChangesMap: {\n    size: \"CONTAINER_SIZE\",\n    margin: \"CONTAINER_SIZE\",\n    redrawOnResize: \"RESIZE_HANDLER\",\n    theme: \"THEME\",\n    rtlEnabled: \"THEME\",\n    encodeHtml: \"THEME\",\n    elementAttr: \"ELEMENT_ATTR\",\n    disabled: \"DISABLED\"\n  },\n  _partialOptionChangesMap: {},\n  _partialOptionChangesPath: {},\n  getPartialChangeOptionsName: function (changedOption) {\n    var that = this;\n    var fullName = changedOption.fullName;\n    var sections = fullName.split(/[.]/);\n    var name = changedOption.name;\n    var value = changedOption.value;\n    var options = this._partialOptionChangesPath[name];\n    var partialChangeOptionsName = [];\n\n    if (options) {\n      if (true === options) {\n        partialChangeOptionsName.push(name);\n      } else {\n        options.forEach(op => {\n          fullName.indexOf(op) >= 0 && partialChangeOptionsName.push(op);\n        });\n\n        if (1 === sections.length) {\n          if (\"object\" === type(value)) {\n            that._addOptionsNameForPartialUpdate(value, options, partialChangeOptionsName);\n          } else if (\"array\" === type(value)) {\n            if (value.length > 0 && value.every(item => that._checkOptionsForPartialUpdate(item, options))) {\n              value.forEach(item => that._addOptionsNameForPartialUpdate(item, options, partialChangeOptionsName));\n            }\n          }\n        }\n      }\n    }\n\n    return partialChangeOptionsName.filter((value, index, self) => self.indexOf(value) === index);\n  },\n  _checkOptionsForPartialUpdate: function (optionObject, options) {\n    return !Object.keys(optionObject).some(key => -1 === options.indexOf(key));\n  },\n  _addOptionsNameForPartialUpdate: function (optionObject, options, partialChangeOptionsName) {\n    var optionKeys = Object.keys(optionObject);\n\n    if (this._checkOptionsForPartialUpdate(optionObject, options)) {\n      optionKeys.forEach(key => options.indexOf(key) > -1 && partialChangeOptionsName.push(key));\n    }\n  },\n  _visibilityChanged: function () {\n    this.render();\n  },\n  _setThemeAndRtl: function () {\n    this._themeManager.setTheme(this.option(\"theme\"), this.option(OPTION_RTL_ENABLED));\n  },\n  _getRendererOptions: function () {\n    return {\n      rtl: this.option(OPTION_RTL_ENABLED),\n      encodeHtml: this.option(\"encodeHtml\"),\n      animation: this._getAnimationOptions()\n    };\n  },\n  _setRendererOptions: function () {\n    this._renderer.setOptions(this._getRendererOptions());\n  },\n  svg: function () {\n    return this._renderer.svg();\n  },\n  getSize: function () {\n    var canvas = this._canvas || {};\n    return {\n      width: canvas.width,\n      height: canvas.height\n    };\n  },\n  isReady: getFalse,\n  _dataIsReady: getTrue,\n  _resetIsReady: function () {\n    this.isReady = getFalse;\n  },\n  _drawn: function () {\n    var that = this;\n    that.isReady = getFalse;\n\n    if (that._dataIsReady()) {\n      that._renderer.onEndAnimation(function () {\n        that.isReady = getTrue;\n      });\n    }\n\n    that._eventTrigger(\"drawn\", {});\n  }\n});\nexport default baseWidget;\nreplaceInherit(baseWidget);","map":{"version":3,"sources":["/home/chrswndrs/Documents/poc/typescript/angular/kid/node_modules/devextreme/esm/viz/core/base_widget.js"],"names":["$","noop","getWindow","hasWindow","domAdapter","isNumeric","isFunction","isDefined","isObject","_isObject","type","each","_windowResizeCallbacks","extend","BaseThemeManager","DOMComponent","changes","replaceInherit","parseScalar","_parseScalar","warnings","Renderer","getWidth","getHeight","_Layout","devices","eventsEngine","when","createEventTrigger","createResizeHandler","createIncidentOccurred","_floor","Math","floor","_log","log","OPTION_RTL_ENABLED","SIZED_ELEMENT_CLASS","_option","prototype","option","getTrue","getFalse","areCanvasesDifferent","canvas1","canvas2","width","height","left","top","right","bottom","defaultOnIncidentOccurred","e","component","_eventsStrategy","hasEvent","apply","target","id","concat","args","pickPositiveValue","values","reduce","result","value","getEmptyComponent","emptyComponentConfig","_initTemplates","ctor","element","options","callBase","sizedElement","createElement","_getDefaultSize","setStyle","setClass","insertElement","EmptyComponent","inherit","originalInherit","config","field","substr","call","callForEach","functions","forEach","c","isServerSide","sizeIsValid","baseWidget","_eventsMap","onIncidentOccurred","name","onDrawn","_getDefaultOptions","_useLinks","_init","that","_$element","children","remove","arguments","_changesLocker","_optionChangedLocker","_asyncFirstDrawing","_changes","_suspendChanges","_themeManager","_createThemeManager","setCallback","_requestChange","_themeDependentChanges","_renderElementAttributes","_initRenderer","linkTarget","_renderer","root","enableLinks","virtualLink","_renderVisibilityChange","_attachVisibilityChangeHandlers","_toggleParentsScrollSubscription","_isVisible","_initEventTrigger","_incidentOccurred","NAME","_eventTrigger","_layout","linkAfter","_initPlugins","_initCore","_change","_initialChanges","_getThemeManagerOptions","themeSection","_themeSection","fontFields","_fontFields","_plugins","_","plugin","init","_disposePlugins","slice","reverse","dispose","codes","add","_resumeChanges","count","_applyingChanges","lock","_applyChanges","reset","_changesApplied","unlock","_optionsQueue","_applyQueuedOptions","resolveItemsDeferred","_legend","_notify","items","_resolveDeferred","_getTemplatesItems","_collectTemplatesFromItems","prev","i","getTemplatesDef","groups","getTemplatesGroups","elements","extraItems","_getExtraTemplatesItems","launchRequest","doneRequest","_ref","_setGroupsVisibility","_changesApplying","syncRendering","done","push","visibility","g","attr","queue","beginUpdate","action","endUpdate","order","_totalChangesOrder","ii","length","has","_optionChangesOrder","_layoutChangesOrder","_customChangesOrder","_change_EVENTS","applyChanges","_change_THEME","_setThemeAndRtl","_change_RENDERER","_setRendererOptions","_change_RESIZE_HANDLER","_setupResizeHandler","_change_ELEMENT_ATTR","_change_CONTAINER_SIZE","_updateSize","_change_LAYOUT","_setContentSize","_change_DISABLED","renderer","_initDisabledState","filter","getGrayScaleFilter","_canvas","_calculateCanvas","cssClass","_rootClassPrefix","_rootClass","pathModified","container","resize","_disposeRenderer","_getAnimationOptions","render","visible","_stopCurrentHandling","subscribe","$parents","parents","real","platform","_proxiedTargetParentsScrollHandler","bind","off","_$prevRootParents","on","_dispose","_removeResizeHandler","_disposeCore","_createActionByOption","size","margin","defaultCanvas","getSizeOfSide","side","getter","elementSize","elementWidth","x","elementHeight","canvas","fixPlacement","__forceRender","_recreateSizeDependentObjects","_getMinSize","_getAlignmentRect","layout","rect","forward","nextRect","_applySize","backward","_getOption","isScalar","theme","redrawOnResize","_resizeHandler","_onBeginUpdate","_initialized","_isUpdateAllowed","_getActionForUpdating","_clean","_render","_optionChanged","arg","partialChanges","getPartialChangeOptionsName","pc","_partialOptionChangesMap","_optionChangesMap","change","rtlEnabled","encodeHtml","elementAttr","disabled","_partialOptionChangesPath","changedOption","fullName","sections","split","partialChangeOptionsName","op","indexOf","_addOptionsNameForPartialUpdate","every","item","_checkOptionsForPartialUpdate","index","self","optionObject","Object","keys","some","key","optionKeys","_visibilityChanged","setTheme","_getRendererOptions","rtl","animation","setOptions","svg","getSize","isReady","_dataIsReady","_resetIsReady","_drawn","onEndAnimation"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/core/base_widget.js)\r\n * Version: 21.2.4\r\n * Build date: Mon Dec 06 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    getWindow,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    isNumeric,\r\n    isFunction,\r\n    isDefined,\r\n    isObject as _isObject,\r\n    type\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport _windowResizeCallbacks from \"../../core/utils/resize_callbacks\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    BaseThemeManager\r\n} from \"../core/base_theme_manager\";\r\nimport DOMComponent from \"../../core/dom_component\";\r\nimport {\r\n    changes,\r\n    replaceInherit\r\n} from \"./helpers\";\r\nimport {\r\n    parseScalar as _parseScalar\r\n} from \"./utils\";\r\nimport warnings from \"./errors_warnings\";\r\nimport {\r\n    Renderer\r\n} from \"./renderers/renderer\";\r\nimport {\r\n    getWidth,\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport _Layout from \"./layout\";\r\nimport devices from \"../../core/devices\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    createEventTrigger,\r\n    createResizeHandler,\r\n    createIncidentOccurred\r\n} from \"./base_widget.utils\";\r\nvar _floor = Math.floor;\r\nvar _log = warnings.log;\r\nvar OPTION_RTL_ENABLED = \"rtlEnabled\";\r\nvar SIZED_ELEMENT_CLASS = \"dx-sized-element\";\r\nvar _option = DOMComponent.prototype.option;\r\n\r\nfunction getTrue() {\r\n    return true\r\n}\r\n\r\nfunction getFalse() {\r\n    return false\r\n}\r\n\r\nfunction areCanvasesDifferent(canvas1, canvas2) {\r\n    return !(canvas1.width === canvas2.width && canvas1.height === canvas2.height && canvas1.left === canvas2.left && canvas1.top === canvas2.top && canvas1.right === canvas2.right && canvas1.bottom === canvas2.bottom)\r\n}\r\n\r\nfunction defaultOnIncidentOccurred(e) {\r\n    if (!e.component._eventsStrategy.hasEvent(\"incidentOccurred\")) {\r\n        _log.apply(null, [e.target.id].concat(e.target.args || []))\r\n    }\r\n}\r\n\r\nfunction pickPositiveValue(values) {\r\n    return values.reduce((function(result, value) {\r\n        return value > 0 && !result ? value : result\r\n    }), 0)\r\n}\r\nvar getEmptyComponent = function() {\r\n    var emptyComponentConfig = {\r\n        _initTemplates() {},\r\n        ctor(element, options) {\r\n            this.callBase(element, options);\r\n            var sizedElement = domAdapter.createElement(\"div\");\r\n            var width = options && isNumeric(options.width) ? options.width + \"px\" : \"100%\";\r\n            var height = options && isNumeric(options.height) ? options.height + \"px\" : this._getDefaultSize().height + \"px\";\r\n            domAdapter.setStyle(sizedElement, \"width\", width);\r\n            domAdapter.setStyle(sizedElement, \"height\", height);\r\n            domAdapter.setClass(sizedElement, SIZED_ELEMENT_CLASS);\r\n            domAdapter.insertElement(element, sizedElement)\r\n        }\r\n    };\r\n    var EmptyComponent = DOMComponent.inherit(emptyComponentConfig);\r\n    var originalInherit = EmptyComponent.inherit;\r\n    EmptyComponent.inherit = function(config) {\r\n        for (var field in config) {\r\n            if (isFunction(config[field]) && \"_\" !== field.substr(0, 1) && \"option\" !== field || \"_dispose\" === field || \"_optionChanged\" === field) {\r\n                config[field] = noop\r\n            }\r\n        }\r\n        return originalInherit.call(this, config)\r\n    };\r\n    return EmptyComponent\r\n};\r\n\r\nfunction callForEach(functions) {\r\n    functions.forEach(c => c())\r\n}\r\nvar isServerSide = !hasWindow();\r\n\r\nfunction sizeIsValid(value) {\r\n    return isDefined(value) && value > 0\r\n}\r\nvar baseWidget = isServerSide ? getEmptyComponent() : DOMComponent.inherit({\r\n    _eventsMap: {\r\n        onIncidentOccurred: {\r\n            name: \"incidentOccurred\"\r\n        },\r\n        onDrawn: {\r\n            name: \"drawn\"\r\n        }\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            onIncidentOccurred: defaultOnIncidentOccurred\r\n        })\r\n    },\r\n    _useLinks: true,\r\n    _init: function() {\r\n        var that = this;\r\n        that._$element.children(\".\" + SIZED_ELEMENT_CLASS).remove();\r\n        that.callBase.apply(that, arguments);\r\n        that._changesLocker = 0;\r\n        that._optionChangedLocker = 0;\r\n        that._asyncFirstDrawing = true;\r\n        that._changes = changes();\r\n        that._suspendChanges();\r\n        that._themeManager = that._createThemeManager();\r\n        that._themeManager.setCallback((function() {\r\n            that._requestChange(that._themeDependentChanges)\r\n        }));\r\n        that._renderElementAttributes();\r\n        that._initRenderer();\r\n        var linkTarget = that._useLinks && that._renderer.root;\r\n        linkTarget && linkTarget.enableLinks().virtualLink(\"core\").virtualLink(\"peripheral\");\r\n        that._renderVisibilityChange();\r\n        that._attachVisibilityChangeHandlers();\r\n        that._toggleParentsScrollSubscription(this._isVisible());\r\n        that._initEventTrigger();\r\n        that._incidentOccurred = createIncidentOccurred(that.NAME, that._eventTrigger);\r\n        that._layout = new _Layout;\r\n        linkTarget && linkTarget.linkAfter(\"core\");\r\n        that._initPlugins();\r\n        that._initCore();\r\n        linkTarget && linkTarget.linkAfter();\r\n        that._change(that._initialChanges)\r\n    },\r\n    _createThemeManager() {\r\n        return new BaseThemeManager(this._getThemeManagerOptions())\r\n    },\r\n    _getThemeManagerOptions() {\r\n        return {\r\n            themeSection: this._themeSection,\r\n            fontFields: this._fontFields\r\n        }\r\n    },\r\n    _initialChanges: [\"LAYOUT\", \"RESIZE_HANDLER\", \"THEME\", \"DISABLED\"],\r\n    _initPlugins: function() {\r\n        var that = this;\r\n        each(that._plugins, (function(_, plugin) {\r\n            plugin.init.call(that)\r\n        }))\r\n    },\r\n    _disposePlugins: function() {\r\n        var that = this;\r\n        each(that._plugins.slice().reverse(), (function(_, plugin) {\r\n            plugin.dispose.call(that)\r\n        }))\r\n    },\r\n    _change: function(codes) {\r\n        this._changes.add(codes)\r\n    },\r\n    _suspendChanges: function() {\r\n        ++this._changesLocker\r\n    },\r\n    _resumeChanges: function() {\r\n        if (0 === --this._changesLocker && this._changes.count() > 0 && !this._applyingChanges) {\r\n            this._renderer.lock();\r\n            this._applyingChanges = true;\r\n            this._applyChanges();\r\n            this._changes.reset();\r\n            this._applyingChanges = false;\r\n            this._changesApplied();\r\n            this._renderer.unlock();\r\n            if (this._optionsQueue) {\r\n                this._applyQueuedOptions()\r\n            }\r\n            this.resolveItemsDeferred(this._legend ? [this._legend] : []);\r\n            this._optionChangedLocker++;\r\n            this._notify();\r\n            this._optionChangedLocker--\r\n        }\r\n    },\r\n    resolveItemsDeferred(items) {\r\n        this._resolveDeferred(this._getTemplatesItems(items))\r\n    },\r\n    _collectTemplatesFromItems: items => items.reduce((prev, i) => ({\r\n        items: prev.items.concat(i.getTemplatesDef()),\r\n        groups: prev.groups.concat(i.getTemplatesGroups())\r\n    }), {\r\n        items: [],\r\n        groups: []\r\n    }),\r\n    _getTemplatesItems(items) {\r\n        var elements = this._collectTemplatesFromItems(items);\r\n        var extraItems = this._getExtraTemplatesItems();\r\n        return {\r\n            items: extraItems.items.concat(elements.items),\r\n            groups: extraItems.groups.concat(elements.groups),\r\n            launchRequest: [extraItems.launchRequest],\r\n            doneRequest: [extraItems.doneRequest]\r\n        }\r\n    },\r\n    _getExtraTemplatesItems: () => ({\r\n        items: [],\r\n        groups: [],\r\n        launchRequest: () => {},\r\n        doneRequest: () => {}\r\n    }),\r\n    _resolveDeferred(_ref) {\r\n        var {\r\n            items: items,\r\n            launchRequest: launchRequest,\r\n            doneRequest: doneRequest,\r\n            groups: groups\r\n        } = _ref;\r\n        var that = this;\r\n        that._setGroupsVisibility(groups, \"hidden\");\r\n        if (that._changesApplying) {\r\n            that._changesApplying = false;\r\n            callForEach(doneRequest);\r\n            return\r\n        }\r\n        var syncRendering = true;\r\n        when.apply(that, items).done(() => {\r\n            if (syncRendering) {\r\n                that._setGroupsVisibility(groups, \"visible\");\r\n                return\r\n            }\r\n            callForEach(launchRequest);\r\n            that._changesApplying = true;\r\n            var changes = [\"LAYOUT\", \"FULL_RENDER\"];\r\n            if (that._asyncFirstDrawing) {\r\n                changes.push(\"FORCE_FIRST_DRAWING\");\r\n                that._asyncFirstDrawing = false\r\n            } else {\r\n                changes.push(\"FORCE_DRAWING\")\r\n            }\r\n            that._requestChange(changes);\r\n            that._setGroupsVisibility(groups, \"visible\")\r\n        });\r\n        syncRendering = false\r\n    },\r\n    _setGroupsVisibility(groups, visibility) {\r\n        groups.forEach(g => g.attr({\r\n            visibility: visibility\r\n        }))\r\n    },\r\n    _applyQueuedOptions: function() {\r\n        var queue = this._optionsQueue;\r\n        this._optionsQueue = null;\r\n        this.beginUpdate();\r\n        each(queue, (function(_, action) {\r\n            action()\r\n        }));\r\n        this.endUpdate()\r\n    },\r\n    _requestChange: function(codes) {\r\n        this._suspendChanges();\r\n        this._change(codes);\r\n        this._resumeChanges()\r\n    },\r\n    _applyChanges: function() {\r\n        var changes = this._changes;\r\n        var order = this._totalChangesOrder;\r\n        var i;\r\n        var ii = order.length;\r\n        for (i = 0; i < ii; ++i) {\r\n            if (changes.has(order[i])) {\r\n                this[\"_change_\" + order[i]]()\r\n            }\r\n        }\r\n    },\r\n    _optionChangesOrder: [\"EVENTS\", \"THEME\", \"RENDERER\", \"RESIZE_HANDLER\"],\r\n    _layoutChangesOrder: [\"ELEMENT_ATTR\", \"CONTAINER_SIZE\", \"LAYOUT\"],\r\n    _customChangesOrder: [\"DISABLED\"],\r\n    _change_EVENTS: function() {\r\n        this._eventTrigger.applyChanges()\r\n    },\r\n    _change_THEME: function() {\r\n        this._setThemeAndRtl()\r\n    },\r\n    _change_RENDERER: function() {\r\n        this._setRendererOptions()\r\n    },\r\n    _change_RESIZE_HANDLER: function() {\r\n        this._setupResizeHandler()\r\n    },\r\n    _change_ELEMENT_ATTR: function() {\r\n        this._renderElementAttributes();\r\n        this._change([\"CONTAINER_SIZE\"])\r\n    },\r\n    _change_CONTAINER_SIZE: function() {\r\n        this._updateSize()\r\n    },\r\n    _change_LAYOUT: function() {\r\n        this._setContentSize()\r\n    },\r\n    _change_DISABLED: function() {\r\n        var renderer = this._renderer;\r\n        var root = renderer.root;\r\n        if (this.option(\"disabled\")) {\r\n            this._initDisabledState = root.attr(\"pointer-events\");\r\n            root.attr({\r\n                \"pointer-events\": \"none\",\r\n                filter: renderer.getGrayScaleFilter().id\r\n            })\r\n        } else if (\"none\" === root.attr(\"pointer-events\")) {\r\n            root.attr({\r\n                \"pointer-events\": isDefined(this._initDisabledState) ? this._initDisabledState : null,\r\n                filter: null\r\n            })\r\n        }\r\n    },\r\n    _themeDependentChanges: [\"RENDERER\"],\r\n    _initRenderer: function() {\r\n        this._canvas = this._calculateCanvas();\r\n        this._renderer = new Renderer({\r\n            cssClass: this._rootClassPrefix + \" \" + this._rootClass,\r\n            pathModified: this.option(\"pathModified\"),\r\n            container: this._$element[0]\r\n        });\r\n        this._renderer.resize(this._canvas.width, this._canvas.height)\r\n    },\r\n    _disposeRenderer: function() {\r\n        this._renderer.dispose()\r\n    },\r\n    _getAnimationOptions: noop,\r\n    render: function() {\r\n        this._requestChange([\"CONTAINER_SIZE\"]);\r\n        var visible = this._isVisible();\r\n        this._toggleParentsScrollSubscription(visible);\r\n        !visible && this._stopCurrentHandling()\r\n    },\r\n    _toggleParentsScrollSubscription: function(subscribe) {\r\n        var $parents = $(this._renderer.root.element).parents();\r\n        if (\"generic\" === devices.real().platform) {\r\n            $parents = $parents.add(getWindow())\r\n        }\r\n        this._proxiedTargetParentsScrollHandler = this._proxiedTargetParentsScrollHandler || function() {\r\n            this._stopCurrentHandling()\r\n        }.bind(this);\r\n        eventsEngine.off($().add(this._$prevRootParents), \"scroll.viz_widgets\", this._proxiedTargetParentsScrollHandler);\r\n        if (subscribe) {\r\n            eventsEngine.on($parents, \"scroll.viz_widgets\", this._proxiedTargetParentsScrollHandler);\r\n            this._$prevRootParents = $parents\r\n        }\r\n    },\r\n    _stopCurrentHandling: noop,\r\n    _dispose: function() {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        that._toggleParentsScrollSubscription(false);\r\n        that._removeResizeHandler();\r\n        that._layout.dispose();\r\n        that._eventTrigger.dispose();\r\n        that._disposeCore();\r\n        that._disposePlugins();\r\n        that._disposeRenderer();\r\n        that._themeManager.dispose();\r\n        that._themeManager = that._renderer = that._eventTrigger = null\r\n    },\r\n    _initEventTrigger: function() {\r\n        var that = this;\r\n        that._eventTrigger = createEventTrigger(that._eventsMap, (function(name) {\r\n            return that._createActionByOption(name)\r\n        }))\r\n    },\r\n    _calculateCanvas: function() {\r\n        var that = this;\r\n        var size = that.option(\"size\") || {};\r\n        var margin = that.option(\"margin\") || {};\r\n        var defaultCanvas = that._getDefaultSize() || {};\r\n        var getSizeOfSide = (size, side, getter) => {\r\n            if (sizeIsValid(size[side]) || !hasWindow()) {\r\n                return 0\r\n            }\r\n            var elementSize = getter(that._$element);\r\n            return elementSize <= 1 ? 0 : elementSize\r\n        };\r\n        var elementWidth = getSizeOfSide(size, \"width\", x => getWidth(x));\r\n        var elementHeight = getSizeOfSide(size, \"height\", x => getHeight(x));\r\n        var canvas = {\r\n            width: size.width <= 0 ? 0 : _floor(pickPositiveValue([size.width, elementWidth, defaultCanvas.width])),\r\n            height: size.height <= 0 ? 0 : _floor(pickPositiveValue([size.height, elementHeight, defaultCanvas.height])),\r\n            left: pickPositiveValue([margin.left, defaultCanvas.left]),\r\n            top: pickPositiveValue([margin.top, defaultCanvas.top]),\r\n            right: pickPositiveValue([margin.right, defaultCanvas.right]),\r\n            bottom: pickPositiveValue([margin.bottom, defaultCanvas.bottom])\r\n        };\r\n        if (canvas.width - canvas.left - canvas.right <= 0 || canvas.height - canvas.top - canvas.bottom <= 0) {\r\n            canvas = {\r\n                width: 0,\r\n                height: 0\r\n            }\r\n        }\r\n        return canvas\r\n    },\r\n    _updateSize: function() {\r\n        var canvas = this._calculateCanvas();\r\n        this._renderer.fixPlacement();\r\n        if (areCanvasesDifferent(this._canvas, canvas) || this.__forceRender) {\r\n            this._canvas = canvas;\r\n            this._recreateSizeDependentObjects(true);\r\n            this._renderer.resize(canvas.width, canvas.height);\r\n            this._change([\"LAYOUT\"])\r\n        }\r\n    },\r\n    _recreateSizeDependentObjects: noop,\r\n    _getMinSize: function() {\r\n        return [0, 0]\r\n    },\r\n    _getAlignmentRect: noop,\r\n    _setContentSize: function() {\r\n        var canvas = this._canvas;\r\n        var layout = this._layout;\r\n        var rect = canvas.width > 0 && canvas.height > 0 ? [canvas.left, canvas.top, canvas.width - canvas.right, canvas.height - canvas.bottom] : [0, 0, 0, 0];\r\n        rect = layout.forward(rect, this._getMinSize());\r\n        var nextRect = this._applySize(rect) || rect;\r\n        layout.backward(nextRect, this._getAlignmentRect() || nextRect)\r\n    },\r\n    _getOption: function(name, isScalar) {\r\n        var theme = this._themeManager.theme(name);\r\n        var option = this.option(name);\r\n        return isScalar ? void 0 !== option ? option : theme : extend(true, {}, theme, option)\r\n    },\r\n    _setupResizeHandler: function() {\r\n        var that = this;\r\n        var redrawOnResize = _parseScalar(this._getOption(\"redrawOnResize\", true), true);\r\n        if (that._resizeHandler) {\r\n            that._removeResizeHandler()\r\n        }\r\n        that._resizeHandler = createResizeHandler((function() {\r\n            if (redrawOnResize) {\r\n                that._requestChange([\"CONTAINER_SIZE\"])\r\n            } else {\r\n                that._renderer.fixPlacement()\r\n            }\r\n        }));\r\n        _windowResizeCallbacks.add(that._resizeHandler)\r\n    },\r\n    _removeResizeHandler: function() {\r\n        if (this._resizeHandler) {\r\n            _windowResizeCallbacks.remove(this._resizeHandler);\r\n            this._resizeHandler.dispose();\r\n            this._resizeHandler = null\r\n        }\r\n    },\r\n    _onBeginUpdate: noop,\r\n    beginUpdate: function() {\r\n        var that = this;\r\n        if (that._initialized && that._isUpdateAllowed()) {\r\n            that._onBeginUpdate();\r\n            that._suspendChanges()\r\n        }\r\n        that.callBase.apply(that, arguments);\r\n        return that\r\n    },\r\n    endUpdate: function() {\r\n        this.callBase();\r\n        this._isUpdateAllowed() && this._resumeChanges();\r\n        return this\r\n    },\r\n    option: function(name) {\r\n        var that = this;\r\n        if (that._initialized && that._applyingChanges && (arguments.length > 1 || _isObject(name))) {\r\n            that._optionsQueue = that._optionsQueue || [];\r\n            that._optionsQueue.push(that._getActionForUpdating(arguments))\r\n        } else {\r\n            return _option.apply(that, arguments)\r\n        }\r\n    },\r\n    _getActionForUpdating: function(args) {\r\n        var that = this;\r\n        return function() {\r\n            _option.apply(that, args)\r\n        }\r\n    },\r\n    _clean: noop,\r\n    _render: noop,\r\n    _optionChanged: function(arg) {\r\n        var that = this;\r\n        if (that._optionChangedLocker) {\r\n            return\r\n        }\r\n        var partialChanges = that.getPartialChangeOptionsName(arg);\r\n        var changes = [];\r\n        if (partialChanges.length > 0) {\r\n            partialChanges.forEach(pc => changes.push(that._partialOptionChangesMap[pc]))\r\n        } else {\r\n            changes.push(that._optionChangesMap[arg.name])\r\n        }\r\n        changes = changes.filter(c => !!c);\r\n        if (that._eventTrigger.change(arg.name)) {\r\n            that._change([\"EVENTS\"])\r\n        } else if (changes.length > 0) {\r\n            that._change(changes)\r\n        } else {\r\n            that.callBase.apply(that, arguments)\r\n        }\r\n    },\r\n    _notify: noop,\r\n    _changesApplied: noop,\r\n    _optionChangesMap: {\r\n        size: \"CONTAINER_SIZE\",\r\n        margin: \"CONTAINER_SIZE\",\r\n        redrawOnResize: \"RESIZE_HANDLER\",\r\n        theme: \"THEME\",\r\n        rtlEnabled: \"THEME\",\r\n        encodeHtml: \"THEME\",\r\n        elementAttr: \"ELEMENT_ATTR\",\r\n        disabled: \"DISABLED\"\r\n    },\r\n    _partialOptionChangesMap: {},\r\n    _partialOptionChangesPath: {},\r\n    getPartialChangeOptionsName: function(changedOption) {\r\n        var that = this;\r\n        var fullName = changedOption.fullName;\r\n        var sections = fullName.split(/[.]/);\r\n        var name = changedOption.name;\r\n        var value = changedOption.value;\r\n        var options = this._partialOptionChangesPath[name];\r\n        var partialChangeOptionsName = [];\r\n        if (options) {\r\n            if (true === options) {\r\n                partialChangeOptionsName.push(name)\r\n            } else {\r\n                options.forEach(op => {\r\n                    fullName.indexOf(op) >= 0 && partialChangeOptionsName.push(op)\r\n                });\r\n                if (1 === sections.length) {\r\n                    if (\"object\" === type(value)) {\r\n                        that._addOptionsNameForPartialUpdate(value, options, partialChangeOptionsName)\r\n                    } else if (\"array\" === type(value)) {\r\n                        if (value.length > 0 && value.every(item => that._checkOptionsForPartialUpdate(item, options))) {\r\n                            value.forEach(item => that._addOptionsNameForPartialUpdate(item, options, partialChangeOptionsName))\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return partialChangeOptionsName.filter((value, index, self) => self.indexOf(value) === index)\r\n    },\r\n    _checkOptionsForPartialUpdate: function(optionObject, options) {\r\n        return !Object.keys(optionObject).some(key => -1 === options.indexOf(key))\r\n    },\r\n    _addOptionsNameForPartialUpdate: function(optionObject, options, partialChangeOptionsName) {\r\n        var optionKeys = Object.keys(optionObject);\r\n        if (this._checkOptionsForPartialUpdate(optionObject, options)) {\r\n            optionKeys.forEach(key => options.indexOf(key) > -1 && partialChangeOptionsName.push(key))\r\n        }\r\n    },\r\n    _visibilityChanged: function() {\r\n        this.render()\r\n    },\r\n    _setThemeAndRtl: function() {\r\n        this._themeManager.setTheme(this.option(\"theme\"), this.option(OPTION_RTL_ENABLED))\r\n    },\r\n    _getRendererOptions: function() {\r\n        return {\r\n            rtl: this.option(OPTION_RTL_ENABLED),\r\n            encodeHtml: this.option(\"encodeHtml\"),\r\n            animation: this._getAnimationOptions()\r\n        }\r\n    },\r\n    _setRendererOptions: function() {\r\n        this._renderer.setOptions(this._getRendererOptions())\r\n    },\r\n    svg: function() {\r\n        return this._renderer.svg()\r\n    },\r\n    getSize: function() {\r\n        var canvas = this._canvas || {};\r\n        return {\r\n            width: canvas.width,\r\n            height: canvas.height\r\n        }\r\n    },\r\n    isReady: getFalse,\r\n    _dataIsReady: getTrue,\r\n    _resetIsReady: function() {\r\n        this.isReady = getFalse\r\n    },\r\n    _drawn: function() {\r\n        var that = this;\r\n        that.isReady = getFalse;\r\n        if (that._dataIsReady()) {\r\n            that._renderer.onEndAnimation((function() {\r\n                that.isReady = getTrue\r\n            }))\r\n        }\r\n        that._eventTrigger(\"drawn\", {})\r\n    }\r\n});\r\nexport default baseWidget;\r\nreplaceInherit(baseWidget);\r\n"]},"metadata":{},"sourceType":"module"}